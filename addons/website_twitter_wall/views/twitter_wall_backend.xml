<?xml version="1.0"?>
<openerp>
    <data>
        <menuitem id="tweet_wall" name="Tweet Wall"/>
         <record model="ir.ui.view" id="twitter_wall_tweet_tree">
          <field name="name">Website Twitter Wall Tweet</field>
          <field name="model">website.twitter.wall.tweet</field>
          <field name="arch" type="xml">
             <tree string="arch" version="7.0">
                 <field name="name"/>
                 <field name="tweet"/>
                 <field name="tweet_url"/>
                 <field name="state" invisible="1"/>
                 <button string="Accept" name="accept_tweet" type="object" attrs="{'invisible':['|',('state','=','published'),('state','=','unpublished')]}"/>
                 <button string="Reject" name="reject_tweet" type="object" attrs="{'invisible':[('state','=','unpublished')]}"/>
              </tree>
          </field>
          </record>
          
          <record model="ir.actions.act_window" id="action_twitter_wall_tweet">
          <field name="name">Tweet Wall Tweet</field>
          <field name="res_model">website.twitter.wall.tweet</field>
          <field name="view_type">form</field>
          <field name="view_mode">tree,form</field>
          </record>
        <record model="ir.ui.view" id="twitter_wall_form">
            <field name="name">Website Twitter Wall</field>
            <field name="model">website.twitter.wall</field>
            <field name="arch" type="xml">
                <form string="arch" version="7.0">
                    <sheet string="Tweet Wall">
                        <div>
                            <div class="oe_right oe_button_box">
                                <field name="state" invisible="1"/>
                                <field name="website_published" class="pull-right" widget = "website_button"/>
                                <button name="%(action_twitter_wall_tweet)d" type="action" string="Tweets" context="{'search_default_wall_id':id,'search_default_state':'pending'}" class="pull-right"/>
                                <button name="start_incoming_tweets"  class="pull-right" string="Start Streaming" type="object" attrs="{'invisible': [('state','!=', 'not_streaming')]}"/>
                                <button name="stop_incoming_tweets"  class="pull-right" string="Stop Streaming" type="object" attrs="{'invisible': [('state','!=', 'streaming')]}"/>
                            </div>
                        </div>
                        <div>
                            <label for="name" class="oe_edit"/>
                            <h1>
                                <field name="name" required="1" />
                            </h1>
                            
                            <field name="tags" widget="many2many_tags"/>
                            <field name="note" placeholder="Description..."/>

                            <field name="website_id" invisible="1"/>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="website_twitter_wall_filter" model="ir.ui.view">
            <field name="name">Website Twitter Wall Tweet.select</field>
            <field name="model">website.twitter.wall.tweet</field>
            <field name="arch" type="xml">
                <search string="Search Wall">
                <field string="Wall" name="wall_id" filter_domain="[('wall_id','=',self)]"/>
                <field name="state" string="State" filter_domain="[('state','=', 'pending')]"/>
               </search>
            </field>
        </record>
        <record model="ir.ui.view" id="twitter_wall_tree">
            <field name="name">Website Twitter Wall</field>
            <field name="model">website.twitter.wall</field>
            <field name="arch" type="xml">
                <tree string="arch" version="7.0" colors="green:website_published;red:website_published">
                    <field name="name"/>
                    <field name="note"/>
                    <field name="tags"/>
                    <field name="tweet_ids"/>
                    <field name="website_id"/>
                    <field name="website_published"/>
                </tree>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_twitter_wall">
            <field name="name">Tweet Wall</field>
            <field name="res_model">website.twitter.wall</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem id="menu_twitter_wall" name="Tweet Wall" parent="tweet_wall"/>
        <menuitem action="action_twitter_wall" id="menu_twitter_wall_sub" parent="menu_twitter_wall"/>
    </data>
</openerp>